# Инструкция по запуску приложения

## Подготовка данных для загрузки в базу данных.
1) В приложении работа с данными реализована через SQLAlchemy поэтому необходимо подготовить
файлы для загрузки их в базу данных.
   1) Для этого запустим на файле ```signatures.tsv``` скрипт для конвертации его в файл с array состоящим из json-ов.
   Скрипт находиться в папке ```supplementary materials```
   2) Входные данные: путь до ```signatures.tsv``` и путь до выходного файла с json 
   3) Пример запуска команды:
   
   ```python3 convert_tsv_to_json_list.py -i signatures.tsv -o signatures_list.json```
2) Я подготовил это файл заранее и он лежит в основной папке с проектом и называется: ```signatures_list.json```

## Запуск REST API
1) Для запуска REST API введите команду из папки с проектом:

```docker-compose up```

2) После того как приложение запуститься необходимо проверить имеющийся функционал приложения
для этого стоит перейти:

```http://0.0.0.0:8000/docs```

Там прописаны все доступные методы REST API

## Заполнение базы данных.
1) Для того, чтобы заполнить базу данных необходимо отправить следущий 
запрос из папки с проектом, в данном запросе после ```-d``` флага следует путь до json файла 
со всеми signatures.tsv, поэтому если команда будет запущена не из папки проекта, то тогда необходимо прописать 
путь до json файла:

```
curl -X 'POST' \
'http://0.0.0.0:8000/patients/' \
-H 'accept: application/json' \
-H 'Content-Type: application/json' \
-d @signatures_list.json
```